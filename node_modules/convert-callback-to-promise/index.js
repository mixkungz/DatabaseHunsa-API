const assert = require('assert');

module.exports = function (toPromise) {
  assert(typeof toPromise === 'function', 'convert-callback-to-promise required a function as argument.');
  return function () {
    let args = arguments;
    return new Promise((resolve, reject) => {
      toPromise.call(null, ...args, function (error, data) {
        if (error) {
          reject(error);
        } else {
          resolve(data);
        }
      })
    });
  }
}